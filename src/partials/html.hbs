<!DOCTYPE html>
<html>
{{> head }}
<body class="{{ path }}">
<script>

if (!location.hash) {
  document.body.classList.add('transition-in')
}
else {
  document.body.classList.add('hash-in')
}

if (window.scrollY === 0) {
  document.body.classList.add('at-top')
}

document.addEventListener('scroll', () => {
  document.body.classList.remove('at-top')
}, { once: true })

if (location.pathname === '/') {
  window.onbeforeunload = function () {
    let scrollPos;
    if (typeof window.pageYOffset != 'undefined') {
      scrollPos = window.pageYOffset;
    }
    else if (typeof document.compatMode != 'undefined' && document.compatMode != 'BackCompat') {
      scrollPos = document.documentElement.scrollTop;
    }
    else if (typeof document.body != 'undefined') {
      scrollPos = document.body.scrollTop;
    }
    sessionStorage.scroll = scrollPos
  }

  window.onload = function () {
    document.documentElement.scrollTop = parseInt(sessionStorage.scroll);
    document.body.scrollTop = parseInt(sessionStorage.scroll);

    const grid = document.querySelector('#projects-more')
    const header = document.querySelector('.show-more')

    if (grid && header) {
      if (window.scrollY === 0) {
        grid.classList.add('hidden')
        header.innerText = 'Show more'
      }
      else {
        header.innerText = 'Show less'
      }
    }

  }
}

</script>
{{#block "body"}}{{/block}}
  <script src="/js/App.js" type="module"></script>
</body>
</html>